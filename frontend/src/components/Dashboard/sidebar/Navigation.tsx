"use client";
import Link from "next/link";
import { usePathname } from "next/navigation";
import React, { useEffect } from "react";

const Navigation = () => {
  const pathname = usePathname();
  const [active, setActive] = React.useState(pathname);

  useEffect(() => {
    setActive(pathname);
  }, [pathname]);

  return (
    <nav className="w-full flex justify-center lg:block lg:pl-4 mb-5">
      <ul className="uppercase w-full flex flex-col gap-6 lg:gap-4 justify-center items-center lg:justify-start items-start">
        <li className="w-full">
          <Link
            href="/dashboard"
            className="flex flex-row justify-center lg:justify-start gap-3 group w-full"
          >
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              className="w-[34px] h-[34px] lg:w-[24px] lg:h-[24px]"
            >
              <path
                d="M2.25 12L11.204 3.045C11.644 2.606 12.356 2.606 12.795 3.045L21.75 12M4.5 9.75V19.875C4.5 20.496 5.004 21 5.625 21H9.75V16.125C9.75 15.504 10.254 15 10.875 15H13.125C13.746 15 14.25 15.504 14.25 16.125V21H18.375C18.996 21 19.5 20.496 19.5 19.875V9.75M8.25 21H16.5"
                stroke="black"
                strokeWidth="1.5"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
            </svg>

            <span
              className={
                "border-b-3 group-hover:border-amber-300 transition-all duration-300 hidden lg:block" +
                (active === "/dashboard"
                  ? " border-amber-300"
                  : " border-transparent")
              }
            >
              Dashboard
            </span>
          </Link>
        </li>
        <li className="w-full">
          <Link
            href="/dashboard/sessions"
            className="group flex flex-row justify-center lg:justify-start  items-center gap-3"
          >
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              className="w-[32px] h-[32px] lg:w-[24px] lg:h-[24px]"
            >
              <path
                d="M15.75 10.5L20.47 5.78C20.5749 5.67524 20.7085 5.60392 20.8539 5.57503C20.9993 5.54615 21.15 5.561 21.2869 5.61771C21.4239 5.67442 21.541 5.77045 21.6234 5.89367C21.7058 6.01688 21.7499 6.16176 21.75 6.31V17.69C21.7499 17.8382 21.7058 17.9831 21.6234 18.1063C21.541 18.2295 21.4239 18.3256 21.2869 18.3823C21.15 18.439 20.9993 18.4538 20.8539 18.425C20.7085 18.3961 20.5749 18.3248 20.47 18.22L15.75 13.5M4.5 18.75H13.5C14.0967 18.75 14.669 18.5129 15.091 18.091C15.5129 17.669 15.75 17.0967 15.75 16.5V7.5C15.75 6.90326 15.5129 6.33097 15.091 5.90901C14.669 5.48705 14.0967 5.25 13.5 5.25H4.5C3.90326 5.25 3.33097 5.48705 2.90901 5.90901C2.48705 6.33097 2.25 6.90326 2.25 7.5V16.5C2.25 17.0967 2.48705 17.669 2.90901 18.091C3.33097 18.5129 3.90326 18.75 4.5 18.75Z"
                stroke="black"
                strokeWidth="1.5"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
            </svg>

            <span
              className={
                "border-b-3 group-hover:border-amber-300 transition-all duration-300 hidden lg:block" +
                (active === "/dashboard/sessions"
                  ? " border-amber-300"
                  : " border-transparent")
              }
            >
              Sessions
            </span>
          </Link>
        </li>
        <li className="w-full">
          <Link
            href="/dashboard/group-sessions"
            className="group flex flex-row justify-center lg:justify-start  items-center gap-3"
          >
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              className="w-[32px] h-[32px] lg:w-[24px] lg:h-[24px]"
            >
              <path
                d="M15.75 10.25L20.47 5.53C20.5749 5.42524 20.7085 5.35392 20.8539 5.32503C20.9993 5.29615 21.15 5.311 21.2869 5.36771C21.4239 5.42442 21.541 5.52045 21.6234 5.64367C21.7058 5.76688 21.7499 5.91176 21.75 6.06V17.44C21.7499 17.5882 21.7058 17.7331 21.6234 17.8563C21.541 17.9795 21.4239 18.0756 21.2869 18.1323C21.15 18.189 20.9993 18.2038 20.8539 18.175C20.7085 18.1461 20.5749 18.0748 20.47 17.97L15.75 13.25M4.5 18.5H13.5C14.0967 18.5 14.669 18.2629 15.091 17.841C15.5129 17.419 15.75 16.8467 15.75 16.25V7.25C15.75 6.65326 15.5129 6.08097 15.091 5.65901C14.669 5.23705 14.0967 5 13.5 5H4.5C3.90326 5 3.33097 5.23705 2.90901 5.65901C2.48705 6.08097 2.25 6.65326 2.25 7.25V16.25C2.25 16.8467 2.48705 17.419 2.90901 17.841C3.33097 18.2629 3.90326 18.5 4.5 18.5Z"
                stroke="black"
                strokeWidth="1.5"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
              <path
                d="M8.56257 9.5C8.56257 9.9144 8.39795 10.3118 8.10493 10.6049C7.8119 10.8979 7.41447 11.0625 7.00007 11.0625C6.58567 11.0625 6.18824 10.8979 5.89522 10.6049C5.60219 10.3118 5.43757 9.9144 5.43757 9.5C5.43757 9.0856 5.60219 8.68817 5.89522 8.39515C6.18824 8.10212 6.58567 7.9375 7.00007 7.9375C7.41447 7.9375 7.8119 8.10212 8.10493 8.39515C8.39795 8.68817 8.56257 9.0856 8.56257 9.5ZM3.87549 15.3825C3.88888 14.5626 4.22396 13.7809 4.80848 13.2059C5.393 12.6308 6.18011 12.3085 7.00007 12.3085C7.82003 12.3085 8.60715 12.6308 9.19166 13.2059C9.77618 13.7809 10.1113 14.5626 10.1247 15.3825C9.1444 15.832 8.07847 16.064 7.00007 16.0625C5.88507 16.0625 4.82674 15.8192 3.87549 15.3825Z"
                stroke="black"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
              <g clipPath="url(#clip0_59_422)">
                <path
                  d="M10.4932 11.3711C11.4442 11.3712 12.3572 11.7452 13.0352 12.4121C13.713 13.0791 14.1016 13.9857 14.1172 14.9365C14.1204 15.1348 14.0063 15.3166 13.8262 15.3994C12.7807 15.8788 11.6433 16.1254 10.4932 16.124V16.125C10.0512 16.125 9.61731 16.0886 9.19434 16.0195C9.30312 15.7066 9.36365 15.3755 9.36719 15.0322C9.73378 15.0916 10.1096 15.125 10.4932 15.125C11.3833 15.1262 12.2643 14.9563 13.0889 14.627C13.0083 14.0599 12.7465 13.5309 12.334 13.125C11.8431 12.6421 11.1818 12.3712 10.4932 12.3711C9.82955 12.3711 9.19195 12.6238 8.70703 13.0742C8.5081 12.8107 8.2698 12.5724 7.99902 12.3652C8.67178 11.7276 9.56459 11.3711 10.4932 11.3711ZM10.4932 7C11.04 7.00011 11.5645 7.2178 11.9512 7.60449C12.3378 7.99127 12.5557 8.51559 12.5557 9.0625C12.5557 9.60941 12.3378 10.1337 11.9512 10.5205C11.5645 10.9072 11.04 11.1249 10.4932 11.125C9.94616 11.125 9.42097 10.9073 9.03418 10.5205C8.64756 10.1337 8.43066 9.60938 8.43066 9.0625C8.43066 8.51562 8.64756 7.99126 9.03418 7.60449C9.42097 7.2177 9.94616 7 10.4932 7ZM10.4932 8C10.2114 8 9.94047 8.11227 9.74121 8.31152C9.54213 8.51075 9.43066 8.78084 9.43066 9.0625C9.43066 9.34416 9.54213 9.61425 9.74121 9.81348C9.94047 10.0127 10.2114 10.125 10.4932 10.125C10.7748 10.1249 11.045 10.0126 11.2441 9.81348C11.4433 9.61424 11.5557 9.34419 11.5557 9.0625C11.5557 8.78081 11.4433 8.51076 11.2441 8.31152C11.045 8.11236 10.7748 8.00011 10.4932 8Z"
                  fill="black"
                />
              </g>
              <defs>
                <clipPath id="clip0_59_422">
                  <rect
                    width="10"
                    height="10"
                    fill="white"
                    transform="translate(5 6)"
                  />
                </clipPath>
              </defs>
            </svg>
            <span
              className={
                "border-b-3 group-hover:border-amber-300 transition-all duration-300 hidden lg:block" +
                (active === "/dashboard/group-sessions"
                  ? " border-amber-300"
                  : " border-transparent")
              }
            >
              Group Sessions
            </span>
          </Link>
        </li>
        <li className="w-full">
          <Link
            href="/dashboard/friends"
            className="group flex flex-row justify-center lg:justify-start  items-center gap-3"
          >
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              className="w-[32px] h-[32px] lg:w-[24px] lg:h-[24px]"
            >
              <path
                d="M15 19.128C15.853 19.3757 16.7368 19.5009 17.625 19.5C19.0534 19.5021 20.4633 19.1764 21.746 18.548C21.7839 17.6517 21.5286 16.7675 21.0188 16.0293C20.509 15.2912 19.7724 14.7394 18.9207 14.4575C18.0691 14.1757 17.1487 14.1791 16.2992 14.4674C15.4497 14.7557 14.7173 15.313 14.213 16.055M15 19.128V19.125C15 18.012 14.714 16.965 14.213 16.055M15 19.128V19.234C13.0755 20.3931 10.8706 21.0038 8.62402 21C6.29302 21 4.11202 20.355 2.25002 19.234L2.24902 19.125C2.24826 17.7095 2.71864 16.3339 3.58601 15.2153C4.45338 14.0966 5.6684 13.2984 7.03951 12.9466C8.41063 12.5948 9.85985 12.7093 11.1587 13.2721C12.4575 13.8349 13.5321 14.814 14.213 16.055M12 6.375C12 7.27011 11.6444 8.12855 11.0115 8.76149C10.3786 9.39442 9.52013 9.75 8.62502 9.75C7.72992 9.75 6.87147 9.39442 6.23854 8.76149C5.6056 8.12855 5.25002 7.27011 5.25002 6.375C5.25002 5.47989 5.6056 4.62145 6.23854 3.98851C6.87147 3.35558 7.72992 3 8.62502 3C9.52013 3 10.3786 3.35558 11.0115 3.98851C11.6444 4.62145 12 5.47989 12 6.375ZM20.25 8.625C20.25 9.32119 19.9735 9.98887 19.4812 10.4812C18.9889 10.9734 18.3212 11.25 17.625 11.25C16.9288 11.25 16.2612 10.9734 15.7689 10.4812C15.2766 9.98887 15 9.32119 15 8.625C15 7.92881 15.2766 7.26113 15.7689 6.76884C16.2612 6.27656 16.9288 6 17.625 6C18.3212 6 18.9889 6.27656 19.4812 6.76884C19.9735 7.26113 20.25 7.92881 20.25 8.625Z"
                stroke="black"
                strokeWidth="1.5"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
            </svg>
            <span
              className={
                "border-b-3 group-hover:border-amber-300 transition-all duration-300 hidden lg:block" +
                (active.startsWith("/dashboard/friends")
                  ? " border-amber-300"
                  : " border-transparent")
              }
            >
              Friends
            </span>
          </Link>
        </li>
        <li className="w-full">
          <Link
            href="/dashboard/calendar"
            className="group flex flex-row justify-center lg:justify-start  items-center gap-3"
          >
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              className="w-[32px] h-[32px] lg:w-[24px] lg:h-[24px]"
            >
              <path
                d="M6.75 3V5.25M17.25 3V5.25M3 18.75V7.5C3 6.90326 3.23705 6.33097 3.65901 5.90901C4.08097 5.48705 4.65326 5.25 5.25 5.25H18.75C19.3467 5.25 19.919 5.48705 20.341 5.90901C20.7629 6.33097 21 6.90326 21 7.5V18.75M3 18.75C3 19.3467 3.23705 19.919 3.65901 20.341C4.08097 20.7629 4.65326 21 5.25 21H18.75C19.3467 21 19.919 20.7629 20.341 20.341C20.7629 19.919 21 19.3467 21 18.75M3 18.75V11.25C3 10.6533 3.23705 10.081 3.65901 9.65901C4.08097 9.23705 4.65326 9 5.25 9H18.75C19.3467 9 19.919 9.23705 20.341 9.65901C20.7629 10.081 21 10.6533 21 11.25V18.75"
                stroke="black"
                strokeWidth="1.5"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
            </svg>
            <span
              className={
                "border-b-3 group-hover:border-amber-300 transition-all duration-300 hidden lg:block" +
                (active === "/dashboard/calendar"
                  ? " border-amber-300"
                  : " border-transparent")
              }
            >
              Calendar
            </span>
          </Link>
        </li>
        <li className="w-full">
          <Link
            href="/dashboard/settings"
            className="group flex flex-row justify-center lg:justify-start  items-center gap-3"
          >
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              className="w-[32px] h-[32px] lg:w-[24px] lg:h-[24px]"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M9.59396 3.94C9.68396 3.398 10.154 3 10.704 3H13.297C13.847 3 14.317 3.398 14.407 3.94L14.62 5.221C14.683 5.595 14.933 5.907 15.265 6.091C15.339 6.131 15.412 6.174 15.485 6.218C15.81 6.414 16.205 6.475 16.56 6.342L17.777 5.886C18.0264 5.79221 18.301 5.78998 18.5518 5.87971C18.8027 5.96945 19.0136 6.14531 19.147 6.376L20.443 8.623C20.576 8.8537 20.6229 9.12413 20.5753 9.38617C20.5277 9.6482 20.3887 9.88485 20.183 10.054L19.18 10.881C18.887 11.122 18.742 11.494 18.75 11.873C18.7514 11.958 18.7514 12.043 18.75 12.128C18.742 12.506 18.887 12.878 19.18 13.119L20.184 13.946C20.608 14.296 20.718 14.901 20.444 15.376L19.146 17.623C19.0128 17.8536 18.8022 18.0296 18.5515 18.1195C18.3008 18.2094 18.0263 18.2074 17.777 18.114L16.56 17.658C16.205 17.525 15.81 17.586 15.484 17.782C15.4115 17.8261 15.3381 17.8688 15.264 17.91C14.933 18.093 14.683 18.405 14.62 18.779L14.407 20.06C14.317 20.603 13.847 21 13.297 21H10.703C10.153 21 9.68396 20.602 9.59296 20.06L9.37996 18.779C9.31796 18.405 9.06796 18.093 8.73596 17.909C8.66181 17.8681 8.58846 17.8258 8.51596 17.782C8.19096 17.586 7.79596 17.525 7.43996 17.658L6.22296 18.114C5.97369 18.2075 5.69933 18.2096 5.44866 18.1199C5.19799 18.0302 4.98727 17.8545 4.85396 17.624L3.55696 15.377C3.4239 15.1463 3.37701 14.8759 3.42462 14.6138C3.47223 14.3518 3.61125 14.1152 3.81696 13.946L4.82096 13.119C5.11296 12.879 5.25796 12.506 5.25096 12.128C5.2494 12.043 5.2494 11.958 5.25096 11.873C5.25796 11.493 5.11296 11.122 4.82096 10.881L3.81696 10.054C3.6115 9.88489 3.47264 9.64843 3.42503 9.38662C3.37743 9.12481 3.42418 8.8546 3.55696 8.624L4.85396 6.377C4.98715 6.14614 5.19797 5.97006 5.44887 5.88014C5.69977 5.79021 5.97445 5.79229 6.22396 5.886L7.43996 6.342C7.79596 6.475 8.19096 6.414 8.51596 6.218C8.58796 6.174 8.66196 6.132 8.73596 6.09C9.06796 5.907 9.31796 5.595 9.37996 5.221L9.59396 3.94Z"
                stroke="black"
                strokeWidth="1.5"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
              <path
                d="M15 12C15 12.7956 14.6839 13.5587 14.1213 14.1213C13.5587 14.6839 12.7956 15 12 15C11.2044 15 10.4413 14.6839 9.87868 14.1213C9.31607 13.5587 9 12.7956 9 12C9 11.2044 9.31607 10.4413 9.87868 9.87868C10.4413 9.31607 11.2044 9 12 9C12.7956 9 13.5587 9.31607 14.1213 9.87868C14.6839 10.4413 15 11.2044 15 12Z"
                stroke="black"
                strokeWidth="1.5"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
            </svg>
            <span
              className={
                "border-b-3 group-hover:border-amber-300 transition-all duration-300 hidden lg:block" +
                (active === "/dashboard/settings"
                  ? " border-amber-300"
                  : " border-transparent")
              }
            >
              Settings
            </span>
          </Link>
        </li>
      </ul>
    </nav>
  );
};

export default Navigation;
